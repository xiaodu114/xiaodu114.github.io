<!DOCTYPE html>
<html lang="zh-Hans-CN">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>OpenLayers - 高德地图 - Hello World - xiaodu114.github.io</title>
        <meta name="keywords" content="xiaodu114,OpenLayers,高德地图,第一个示例,Hello World" />
        <meta name="description" content="OpenLayers 加载高德地图示例：Hello World" />

        <link href="https://registry.npmmirror.com/ol/10.5.0/files/ol.css" rel="stylesheet" />

        <style>
            #map {
                width: 100%;
                height: 100vh;
            }
        </style>

        <script src="/p/_/js/main.js"></script>
        <script src="https://registry.npmmirror.com/ol/10.5.0/files/dist/ol.js"></script>
    </head>

    <body>
        <div class="blog-page">
            <h1>Hello World</h1>
            <p>OpenLayers 加载高德地图示例：Hello World</p>
            <div id="map"></div>
        </div>
        <script>
            function obj2QueryString(obj) {
                return Object.keys(obj)
                    .map((key) => `${key}=${obj[key]}`)
                    .join("&");
            }

            const { Map, View } = ol;
            const { Tile } = ol.layer;
            const { XYZ } = ol.source;

            const map = new Map({
                target: "map",
                view: new View({
                    projection: "EPSG:4326",
                    center: [116.40404291497349, 39.9110069683746],
                    zoom: 12
                }),
                layers: [
                    new Tile({
                        source: new XYZ({
                            url: `https://wprd0{1-4}.is.autonavi.com/appmaptile?${obj2QueryString({ lang: "zh_cn", size: "1", style: "7", x: "{x}", y: "{y}", z: "{z}" })}`
                        })
                    })
                ]
            });
        </script>
    </body>
</html>
