<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Typesetting Web Components - xiaodu114.github.io</title>
    <meta name="keywords" content="Web Components,Typesetting,Typesetting series">
    <meta name="description" content="这里记录演示一下关于排版的一系列Web Components：醒目块（marked-block）">

    <script src="/p/_/js/main.js"></script>
</head>

<body>
    <!-- github访问地址：/p/web/webComponents/my/index.html -->
    <div class="blog-page">
        <h1>Web Components 之排版系列</h1>
        <h2>醒目块<line-code>marked-block</line-code>
        </h2>
        <p>
            看到这个组件名字时候我都忍不住吐槽，虽然这个名字是我取得……起名的时候我犯难了😣😣😣。看到下面的运行效果大家就应该知道这是什么东东了，该叫什么呢！看了网上好多类似效果的都是使用的
            <line-code>blockquote</line-code>,但是我觉得在这个基础上加个前缀、后缀什么的并不合适，最后想了半天，这其实是一个块元素并且很明显、醒目，所以就有了这个名字……
        </p>
        <h3>运行效果</h3>
        <marked-block>
            <p>醒目块之<strong>提示</strong>，这里可以放置一些<strong>提示</strong>性的内容。<strong>这个是默认情况</strong></p>
        </marked-block>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="html">
<marked-block>
    <p>醒目块之<strong>提示</strong>，这里可以放置一些<strong>提示</strong>性的内容。<strong>这个是默认情况</strong></p>
</marked-block>
        </pre>
        <div style="height: 20px;"></div>
        <marked-block type="info">
            <p>醒目块之<strong>信息</strong>，这里可以放置一些<strong>信息</strong>性的内容。</p>
        </marked-block>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="html">
<marked-block type="info">
    <p>醒目块之<strong>信息</strong>，这里可以放置一些<strong>信息</strong>性的内容。</p>
</marked-block>
        </pre>
        <div style="height: 20px;"></div>
        <marked-block type="warning">
            <p>醒目块之<strong>注意</strong>，这里可以放置一些<strong>注意</strong>性的内容。</p>
        </marked-block>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="html">
<marked-block type="warning">
    <p>醒目块之<strong>注意</strong>，这里可以放置一些<strong>注意</strong>性的内容。</p>
</marked-block>
        </pre>
        <div style="height: 20px;"></div>
        <marked-block type="error">
            <p>醒目块之<strong>错误</strong>，这里可以放置一些<strong>错误</strong>性的内容。</p>
        </marked-block>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="html">
<marked-block type="error">
    <p>醒目块之<strong>错误</strong>，这里可以放置一些<strong>错误</strong>性的内容。</p>
</marked-block>
        </pre>
        <div style="height: 20px;"></div>
        <h3>属性</h3>
        <table>
            <thead>
                <tr>
                    <th>参数</th>
                    <th>说明</th>
                    <th>默认值</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>type</td>
                    <td>醒目块的类型</td>
                    <td>支持的类型： default | info | warning | error，默认为：default</td>
                </tr>
                <tr>
                    <td>explain</td>
                    <td>醒目块的标题</td>
                    <td>你想要设置的都可以，无默认值</td>
                </tr>
                <tr>
                    <td>side-color</td>
                    <td>醒目块的左侧颜色</td>
                    <td>你想要设置的都可以，系统边框默认值</td>
                </tr>
                <tr>
                    <td>bg-color</td>
                    <td>醒目块的背景颜色</td>
                    <td>你想要设置的都可以，默认为：<line-code>#f9f9f9</line-code>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">
                        说明：设置了支持的<line-code>type</line-code>之后，<line-code>explain</line-code>和<line-code>
                            side-color</line-code>会有对应的值；如果同时设置，以具体的属性值为准。
                        <p>2021-10-10 更新：已经支持通过代码方式设置属性的值。例如：dom.setAttribute("explain", "xxx");</p>
                    </td>
                </tr>
            </tfoot>
        </table>
        <h2>返回顶部<line-code>back-to-top</line-code>
        </h2>
        <p>
            这个组件就不用过多的介绍了，功能比较常见，在N多网站中都有这个功能。这里自己实现了一下，支持在整个页面或者某一个滚动容器中使用。
        </p>
        <h3>运行效果</h3>
        <div class="back-to-top-demo" style="height: 235px; overflow-y: auto; overflow-x: hidden;">
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <p>祈祷 王杰|王韵禅</p>
            <back-to-top scroll-selector=".back-to-top-demo"></back-to-top>
        </div>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="html">
<!-- 在某一个容器中使用：上面的示例 -->
<back-to-top scroll-selector=".back-to-top-demo"></back-to-top>
        </pre>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="html">
<!-- 默认：本页面右下角的“返回顶部” -->
<back-to-top></back-to-top>
        </pre>
        <h3>属性</h3>
        <table>
            <thead>
                <tr>
                    <th>参数</th>
                    <th>说明</th>
                    <th>默认值</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>scroll-selector</td>
                    <td>选择器</td>
                    <td>document.querySelector支持的选择器</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">
                        说明：该属性可以不设置，此时监听<line-code>window</line-code>滚动事件；设置时（如果找不到会报错）监听对应元素的滚动事件。
                    </td>
                </tr>
            </tfoot>
        </table>
        <h2>单滑块进度条<line-code>single-slider</line-code>
        </h2>
        <p>
            这是我写的第一个Web Component，当时是为了音乐播放器的进度条，当然也用在了我的音乐播放器项目中（<a
                href="/angular/angular1/angularjs-music-table/index.html" target="_blank">🎵 Music Online
                Angularjs</a>）。
        </p>
        <h3>运行效果</h3>
        <div>
            <single-slider id="singleSliderDemo1"></single-slider>
        </div>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="html">
<!-- 本文single-slider示例代码，html部分 -->
<single-slider id="singleSliderDemo1"></single-slider>
        </pre>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="javascript">
<!-- 本文single-slider示例代码，javascript部分 -->
var singleSliderDemo1Dom = document.getElementById("singleSliderDemo1");
singleSliderDemo1Dom.addEventListener("input", (inputEvent) => {
    document.getElementById("singleSliderDemo1_preSingleSliderValueByInput").innerHTML = JSON
        .stringify(inputEvent
            .target
            .value, null, 1);
});
singleSliderDemo1Dom.addEventListener("change", (customEvent) => {
    document.getElementById("singleSliderDemo1_preSingleSliderValueByChange").innerHTML = JSON
        .stringify(customEvent
            .detail.value, null, 1);
});

function singleSliderDemo1_inputOnChangeEvent(input) {
    if (input.name) {
        singleSliderDemo1Dom.setAttribute(input.name, input.value);
    }
}

function singleSliderDemo1_inputRangeOnChangeEvent(range) {
    var sliderValue = singleSliderDemo1Dom.value;
    sliderValue[range.name] = range.value;
    singleSliderDemo1Dom.value = sliderValue;
}
        </pre>
        <h3>使用说明</h3>
        <dl>
            <dt>滑道设置</dt>
            <dd>
                <p>
                    <label>背景颜色：<input type="color" name="slider-color"
                            onchange="singleSliderDemo1_inputOnChangeEvent(this)"></label>&nbsp;&nbsp;&nbsp;&nbsp;
                    <label>划过颜色：<input type="color" name="slid-color"
                            onchange="singleSliderDemo1_inputOnChangeEvent(this)"></label>&nbsp;&nbsp;&nbsp;&nbsp;
                    <label>加载颜色：<input type="color" name="load-color"
                            onchange="singleSliderDemo1_inputOnChangeEvent(this)"></label>
                </p>
            </dd>
            <dd>
                <p>
                    <label>轨道高度：<input type="number" name="slider-height"
                            onchange="singleSliderDemo1_inputOnChangeEvent(this)"></label>
                </p>
            </dd>
            <dt>滑块设置</dt>
            <dd>
                <p>
                    <label>
                        颜色：<input type="color" name="dot-color" onchange="singleSliderDemo1_inputOnChangeEvent(this)">
                    </label>
                </p>
            </dd>
            <dd>
                <p>
                    <label>
                        大小：<input type="number" name="dot-size" onchange="singleSliderDemo1_inputOnChangeEvent(this)">
                    </label>
                </p>
            </dd>
            <dd>
                <p>
                    <label>
                        圆角：<input type="number" name="dot-radius" onchange="singleSliderDemo1_inputOnChangeEvent(this)">
                    </label>
                </p>
            </dd>
            <dt>设置滑块的某些值</dt>
            <dd>
                <p>
                    <label>进度值：<input type="range" name="slidValue" value="0"
                            onchange="singleSliderDemo1_inputRangeOnChangeEvent(this)"></label>&nbsp;&nbsp;&nbsp;&nbsp;
                    <label>加载值：<input type="range" name="loadValue" value="0"
                            onchange="singleSliderDemo1_inputRangeOnChangeEvent(this)"></label>
                </p>
            </dd>
            <dt>你也可以监听值的变化</dt>
            <dd>
                <p>
                    input监听：
                <pre id="singleSliderDemo1_preSingleSliderValueByInput"></pre>
                </p>
            </dd>
            <dd>
                <p>
                    change监听：
                <pre id="singleSliderDemo1_preSingleSliderValueByChange"></pre>
                </p>
            </dd>
        </dl>
        <script>
            var singleSliderDemo1Dom = document.getElementById("singleSliderDemo1");
            singleSliderDemo1Dom.addEventListener("input", (inputEvent) => {
                document.getElementById("singleSliderDemo1_preSingleSliderValueByInput").innerHTML = JSON
                    .stringify(inputEvent
                        .target
                        .value, null, 1);
            });
            singleSliderDemo1Dom.addEventListener("change", (customEvent) => {
                document.getElementById("singleSliderDemo1_preSingleSliderValueByChange").innerHTML = JSON
                    .stringify(customEvent
                        .detail.value, null, 1);
            });

            function singleSliderDemo1_inputOnChangeEvent(input) {
                if (input.name) {
                    singleSliderDemo1Dom.setAttribute(input.name, input.value);
                }
            }

            function singleSliderDemo1_inputRangeOnChangeEvent(range) {
                var sliderValue = singleSliderDemo1Dom.value;
                sliderValue[range.name] = range.value;
                singleSliderDemo1Dom.value = sliderValue;
            }
        </script>
        <h3>属性</h3>
        <table>
            <thead>
                <tr>
                    <th>参数</th>
                    <th>说明</th>
                    <th>默认值</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>slider-color</td>
                    <td>滑道颜色</td>
                    <td>这个比较好理解</td>
                </tr>
                <tr>
                    <td>slid-color</td>
                    <td>滑过颜色</td>
                    <td>进度颜色（例如：播放进度）</td>
                </tr>
                <tr>
                    <td>load-color</td>
                    <td>加载颜色</td>
                    <td>加载颜色（例如：加载进度），按需使用</td>
                </tr>
                <tr>
                    <td>slider-height</td>
                    <td>滑道高度</td>
                    <td>这个也比较好理解</td>
                </tr>
                <tr>
                    <td>dot-color</td>
                    <td>滑块颜色</td>
                    <td>设置滑块颜色</td>
                </tr>
                <tr>
                    <td>dot-size</td>
                    <td>滑块大小</td>
                    <td>设置滑块大小</td>
                </tr>
                <tr>
                    <td>dot-radius</td>
                    <td>滑块圆角</td>
                    <td>设置滑块圆角</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">
                        你可以监听值的改变，支持<line-code>input</line-code>和<line-code>change</line-code>,你还可以设置滑过和加载的值……
                    </td>
                </tr>
            </tfoot>
        </table>
        <h2>刻度表（腕表）<line-code>scale-clock</line-code>
        </h2>
        <p>这组件的起因是Material
            Design的FAB，点击辐射出一些二级菜单……之后便想到了圆形，钟表等（对应的实现github中有示例代码）。之前都是样式实现的，现在想着是想一个JS版本的，便做成了组件，方便做一些定制。</p>
        <h3>运行效果</h3>
        <scale-clock></scale-clock>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="html">
<!-- 默认 -->
<scale-clock></scale-clock>
        </pre>
        <scale-clock id="scaleClockDemo2" radius="234" hour-hand-width="8" minute-hand-width="6" second-hand-width="4"
            scale-length="15" scale-big-width="4" scale-small-width="2" num12-size="18" num60-show="true"
            num60-size="18">
        </scale-clock>
        <script>
            let scaleClockDemo2Dom = document.getElementById("scaleClockDemo2");
            scaleClockDemo2Dom.updateClockOption("centerPoint", "size", 30);
            scaleClockDemo2Dom.updateClockOption("centerPoint", "style", {
                backgroundColor: "#6DE195"
            });
            scaleClockDemo2Dom.updateClockOption("hourHand", "style", {
                backgroundColor: "blue"
            });
            scaleClockDemo2Dom.updateClockOption("minuteHand", "style", {
                backgroundColor: "orange"
            });
            scaleClockDemo2Dom.updateClockOption("secondHand", "style", {
                backgroundColor: "red"
            });
            scaleClockDemo2Dom.updateClockOption("scale", "bigStyle", {
                backgroundColor: "rebeccapurple"
            });
            scaleClockDemo2Dom.updateClockOption("scale", "smallStyle", {
                backgroundColor: "yellow"
            });
            scaleClockDemo2Dom.updateClockOption("scale", "numStyle", {
                1: {
                    backgroundColor: "blue"
                },
                29: {
                    backgroundColor: "blue"
                },
                31: {
                    backgroundColor: "blue"
                },
                59: {
                    backgroundColor: "blue"
                }
            });
            scaleClockDemo2Dom.updateClockOption("num12", "style", {
                color: "black"
            });
            scaleClockDemo2Dom.updateClockOption("num12", "numStyle", {
                3: {
                    color: "red"
                },
                6: {
                    color: "red"
                },
                9: {
                    color: "red"
                },
                12: {
                    color: "red"
                }
            });
            scaleClockDemo2Dom.updateClockOption("num60", "style", {
                color: "gray"
            });
            scaleClockDemo2Dom.updateClockOption("num60", "numStyle", {
                10: {
                    color: "red"
                },
                20: {
                    color: "red"
                },
                40: {
                    color: "red"
                },
                50: {
                    color: "red"
                }
            });
        </script>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="html">
<!-- 个性化定制 -->
<scale-clock id="scaleClockDemo2" radius="234" hour-hand-width="8" minute-hand-width="6" second-hand-width="4"
    scale-length="15" scale-big-width="4" scale-small-width="2" num12-size="18" num60-show="true"
    num60-size="18">
</scale-clock>
        </pre>
        <pre ddz-class="here-need-to-handle-by-highlight" ddz-lang="javascript">
<!-- 本文个性化定制钟表，javascript部分 -->
let scaleClockDemo2Dom = document.getElementById("scaleClockDemo2");
scaleClockDemo2Dom.updateClockOption("centerPoint", "size", 30);
scaleClockDemo2Dom.updateClockOption("centerPoint", "style", {
    backgroundColor: "#6DE195"
});
scaleClockDemo2Dom.updateClockOption("hourHand", "style", {
    backgroundColor: "blue"
});
scaleClockDemo2Dom.updateClockOption("minuteHand", "style", {
    backgroundColor: "orange"
});
scaleClockDemo2Dom.updateClockOption("secondHand", "style", {
    backgroundColor: "red"
});
scaleClockDemo2Dom.updateClockOption("scale", "bigStyle", {
    backgroundColor: "rebeccapurple"
});
scaleClockDemo2Dom.updateClockOption("scale", "smallStyle", {
    backgroundColor: "yellow"
});
scaleClockDemo2Dom.updateClockOption("scale", "numStyle", {
    1: {
        backgroundColor: "blue"
    },
    29: {
        backgroundColor: "blue"
    },
    31: {
        backgroundColor: "blue"
    },
    59: {
        backgroundColor: "blue"
    }
});
scaleClockDemo2Dom.updateClockOption("num12", "style", {
    color: "black"
});
scaleClockDemo2Dom.updateClockOption("num12", "numStyle", {
    3: {
        color: "red"
    },
    6: {
        color: "red"
    },
    9: {
        color: "red"
    },
    12: {
        color: "red"
    }
});
scaleClockDemo2Dom.updateClockOption("num60", "style", {
    color: "gray"
});
scaleClockDemo2Dom.updateClockOption("num60", "numStyle", {
    10: {
        color: "red"
    },
    20: {
        color: "red"
    },
    40: {
        color: "red"
    },
    50: {
        color: "red"
    }
});
        </pre>
        <h3>属性</h3>
        <table>
            <thead>
                <tr>
                    <th>参数</th>
                    <th>说明</th>
                    <th>默认值</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>radius</td>
                    <td>钟表半径</td>
                    <td>60</td>
                </tr>
                <tr>
                    <td>hour-hand-width</td>
                    <td>时针宽度</td>
                    <td>3</td>
                </tr>
                <tr>
                    <td>minute-hand-width</td>
                    <td>分针宽度</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>second-hand-hide</td>
                    <td>秒针是否隐藏</td>
                    <td>false</td>
                </tr>
                <tr>
                    <td>second-hand-width</td>
                    <td>秒针宽度</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>scale-length</td>
                    <td>刻度长度</td>
                    <td>6</td>
                </tr>
                <tr>
                    <td>scale-big-width</td>
                    <td>大刻度宽度——小时</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>scale-small-width</td>
                    <td>小刻度宽度——分钟</td>
                    <td>0.8</td>
                </tr>
                <tr>
                    <td>num12-size</td>
                    <td>刻度内圈小时数字(1-12)的大小</td>
                    <td>12</td>
                </tr>
                <tr>
                    <td>num60-show</td>
                    <td>刻度外圈数字(1-60)是否显示</td>
                    <td>false</td>
                </tr>
                <tr>
                    <td>num60-size</td>
                    <td>刻度外圈数字(1-60)的大小</td>
                    <td>无（默认不显示）</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">
                        说明：你可以通过获取DOM元素调用<line-code>updateClockOption</line-code>
                        方法，设置钟表中心圆点的大小，颜色；时针、分针、秒针的颜色；刻度盘、1-12、1-60的颜色（可以整体设置，也可以单个控制），这些在上面的定制钟表中都有体现。
                    </td>
                </tr>
            </tfoot>
        </table>
        <h3>待处理</h3>
        <p>该钟表组件支持的还不是很完善，涉及到计算的部分（例如：半径）还不支持动态更新，只支持开始时设置</p>
        <h2>自动生成目录<line-code>auto-generate-directory</line-code>
        </h2>
        <p>为了方便的阅读文章，更加快速的查找到自己想要的章节，这便是这个组件的由来。</p>
        <p>简单介绍一下实现方式：查找<line-code>body</line-code>或者指定容器下的h1~h6子元素，之后通过样式控制缩进；支持点击跳转；支持滚动时选中对应的章节</p>
        <h3>运行效果</h3>
        <p>请查看文章右侧（如果没有，则某些情况下还没有适配）</p>
        <h3>属性</h3>
        <table>
            <thead>
                <tr>
                    <th>参数</th>
                    <th>说明</th>
                    <th>默认值</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>generate-source-selector</td>
                    <td>容器选择器，如果没有找到对应的元素则使用<line-code>body</line-code>
                    </td>
                    <td>
                        <line-code>.blog-page</line-code>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">
                        样式不太美观；小屏下暂时不支持；如果出现滚动条并且最后一屏章节目录比较多，目录选中时有问题
                    </td>
                </tr>
            </tfoot>
        </table>
        <h2>其他组件正在进行中……</h2>
    </div>
</body>

</html>