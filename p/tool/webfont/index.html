<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>web font online viewer - xiaodu114.github.io</title>
    <meta name="keywords" content="web font online viewer, webå­—ä½“åœ¨çº¿é¢„è§ˆ, opentype.js">
    <meta name="description" content="webå­—ä½“åœ¨çº¿é¢„è§ˆ">

    <style>
        .icon-wrapper {
            width: 200px;
            min-width: 200px;
            display: inline-flex;
            align-items: center;
            line-height: 1.5;
        }

        .icon-wrapper>i.icon {
            width: 1.5rem;
            font-size: 1.2rem;
        }

        .icon-wrapper>code {
            border: 1px solid #DDD;
            width: 46px;
            border-radius: 4px;
            text-align: center;
            margin-left: 3px;
            margin-right: 3px;
        }

        .icon-wrapper>span {
            font-size: 1rem;
            display: inline-block;
            max-width: calc(100% - 90px);
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        .view-box-by-opentypejs {
            display: flex;
            flex-flow: wrap;
        }
    </style>

    <script src="/p/_/js/main.js"></script>
</head>

<body>
    <!-- githubè®¿é—®åœ°å€ï¼š/p/_/index.html -->
    <div class="blog-page">
        <h1>font iconåœ¨çº¿æŸ¥çœ‹</h1>
        <p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆå†™è¿™ä¸ªå·¥å…·äº†ï¼Œåæ­£å°±æ˜¯æœ‰äº†â€¦â€¦ä½ ç”¨å°±è¡Œäº†ï¼ŒğŸ˜„ğŸ˜„ğŸ˜„</p>
        <details>
            <summary>å…ˆçœ‹çœ‹åˆ«äººæ˜¯æ€ä¹ˆæ•´çš„ï¼ˆå¿«ç‚¹ç‚¹å¼€çœ‹çœ‹å§ï¼‰</summary>
            <ul>
                <li>
                    <a href="https://fontdrop.info/" target="_blank">FontDrop!</a>
                </li>
                <li>
                    <a href="https://torinak.com/font/lsfont.html" target="_blank">List glyphs in font â€” online
                        app</a>
                </li>
                <li>
                    <a href="https://products.aspose.app/font/viewer" target="_blank">Open font file online for
                        free</a>
                </li>
                <li>
                    <a href="https://fontsee.com/" target="_blank">FontSee - Font viewer for webfont files</a>
                </li>
                <li>
                    <a href="https://www.glyphrstudio.com/online/" target="_blank">Glyphr Studio</a>
                </li>
                <li>
                    <a href="https://github.com/ecomfe/fonteditor" target="_blank">GitHub - ecomfe/fonteditor:
                        åœ¨çº¿å­—ä½“ç¼–è¾‘å™¨</a>
                </li>
                <li>
                    <a href="http://blog.luckly-mjw.cn/tool-show/iconfont-preview/index.html" target="_blank">Iconfont
                        Preview</a>
                </li>
            </ul>
        </details>
        <p></p>
        <details>
            <summary>ä¸€äº›å­—ä½“å›¾æ ‡åº“ï¼ˆå¿«ç‚¹ç‚¹å¼€çœ‹çœ‹å§ï¼‰</summary>
            <ul>
                <li>
                    <a href="https://materialdesignicons.com/" target="_blank">Material Design Icons</a>
                </li>
                <li>
                    <a href="https://fontawesome.com/" target="_blank">Font Awesome</a> |
                    <a href="https://fontawesome.com/cheatsheet" target="_blank">Cheatsheet | Font Awesome</a>
                </li>
                <li>
                    <a href="https://fontawesome.dashgame.com/" target="_blank">Font Awesomeï¼Œä¸€å¥—ç»ä½³çš„å›¾æ ‡å­—ä½“åº“å’ŒCSSæ¡†æ¶</a>
                </li>
                <li>
                    <a href="https://ionic.io/ionicons" target="_blank">Ionicons: The premium icon pack for Ionic
                        Framework</a>
                </li>
                <li>
                    <a href="https://github.com/erikflowers/weather-icons" target="_blank">GitHub -
                        erikflowers/weather-icons: 215 Weather Themed Icons and CSS</a>
                </li>
                <li>
                    <a href="https://github.com/thesabbir/simple-line-icons" target="_blank">GitHub -
                        thesabbir/simple-line-icons: Simple and Minimal Line Icons</a>
                </li>
            </ul>
        </details>
        <h2>æ–¹æ¡ˆä¸€ï¼šopentype.js</h2>
        <p>å®˜ç½‘ï¼š<a href="https://opentype.js.org/" target="_blank">opentype.js â€“ JavaScript parser/writer for OpenType and
                TrueType fonts.</a></p>
        <p>
            <inline-code>opentype.js</inline-code>å®ç°ï¼Œå®˜ç½‘æ”¯æŒçš„æ ¼å¼ï¼šWOFF, OTF, TTFã€‚æ›´å¤šä»‹ç»è¯·æŸ¥çœ‹ï¼š<a
                href="https://github.com/opentypejs/opentype.js" target="_blank">GitHub - opentypejs/opentype.js</a>
        </p>
        <fieldset>
            <legend>opentype.jsç‰ˆ</legend>
            <p>
                <input type="file" accept="application/x-font-truetype" onchange="fileInputForOpentypejs(this);"
                    style="width: 49%;" />
                <span style="width: 2%; font-weight: bold;">æˆ–|è€…</span>
                <span style="width: 49%;">
                    <label>åœ°å€ï¼š<input type="url" id="inputUrlForOpentypejs" /></label>
                    <button type="button" id="btnForOpentypejs">ç¡®å®š</button>
                </span>
            </p>
            <div class="view-box-by-opentypejs" id="view-by-opentypejs"></div>
        </fieldset>
        <h2>å…¶ä»–ç‰ˆæœ¬ï¼šæ€¥éœ€eotã€woff2ç­‰</h2>
        <h2>å‚è€ƒé“¾æ¥</h2>
        <ul>
            <li>
                <a href="https://www.coder.work/article/3792939" target="_blank">javascript -
                    å°†FileReader.readAsBinaryStringè½¬æ¢ä¸ºUnicodeè½¬ä¹‰çš„å­—ç¬¦ä¸² - ITå·¥å…·ç½‘</a>
            </li>
            <li>
                <a href="https://www.w3schools.com/cssref/css3_pr_font-face_rule.asp" target="_blank">CSS @font-face
                    Rule</a>
            </li>
        </ul>
    </div>
    <script src="https://unpkg.com/opentype.js"></script>
    <script>

        const cr = document.createRange();

        const styleTagIdOpentypejs = "custom-web-font-handle-by-opentypejs";
        const viewByOpentypejsDom = document.getElementById("view-by-opentypejs"),
            inputUrlForOpentypejsDom = document.getElementById("inputUrlForOpentypejs"),
            btnForOpentypejsDom = document.getElementById("btnForOpentypejs");

        btnForOpentypejsDom.addEventListener('click', (event) => {
            if (!inputUrlForOpentypejs.value) return;

            resetIconDisplayOpentypejs();
            //  http://localhost:8888/html-js-css/js-demo/ttf-icon-online/ttf/Simple-Line-Icons.ttf
            fetch(inputUrlForOpentypejs.value).then((response) => {
                if (response.ok) {
                    return response.arrayBuffer();
                }
                else {
                    let error = new Error(response.statusText);
                    error.response = response;
                    throw error;
                }
            }).then(handleFontFileByOpentypejs).catch(error => {
                console.log('request failed', error)
            });
        });

        function fileInputForOpentypejs(evt) {
            if (!evt.files && evt.files.length) return;

            const fileReader = new FileReader();
            fileReader.readAsArrayBuffer(evt.files[0]);
            fileReader.onerror = (error) => {
                console.error('Error: ', JSON.stringify(error));
            };
            fileReader.onload = () => {
                resetIconDisplayOpentypejs();
                handleFontFileByOpentypejs(fileReader.result);
            };
        }

        function resetIconDisplayOpentypejs() {
            //  åˆ é™¤ä¸Šä¸€æ¬¡æ’å…¥çš„æ ·å¼,å¹¶æ¸…ç©ºå±•ç¤ºå®¹å™¨
            let styleTagEle = document.getElementById(styleTagIdOpentypejs);
            if (styleTagEle) {
                styleTagEle.remove();
            }
            viewByOpentypejsDom.innerHTML = "";
        }

        function handleFontFileByOpentypejs(arrBuffer) {
            const font = opentype.parse(arrBuffer);
            if (!(font && font.glyphs && font.glyphs.glyphs)) return;

            let iconsStyleFragment = "";
            for (let key in font.glyphs.glyphs) {
                if (font.glyphs.glyphs.hasOwnProperty(key)) {
                    let glyph = font.glyphs.glyphs[key];
                    if (!glyph.unicode) continue;

                    let iconName = glyph.name || glyph.unicode,
                        icon16Value = glyph.unicode.toString(16).toUpperCase(),
                        iconClassName = `custom-font-${iconName}`;
                    viewByOpentypejsDom.appendChild(cr.createContextualFragment(
                        `<div class="icon-wrapper">
                            <i class="icon ${iconClassName}"></i> 
                            <code>${icon16Value}</code>
                            <span>${iconName}</span>
                        </div>`));
                    iconsStyleFragment +=
                        `.${iconClassName}::before { content: "\\${icon16Value}"; }  `;
                }
            }
            addFontToStyle("you-custom-font-" + new Date().valueOf(), arrBuffer, viewByOpentypejsDom, iconsStyleFragment);
        }

        function addFontToStyle(fontFamilyName, fontFileArraybuffer, displayBoxEle, styleFragment) {
            let currentFont = new FontFace(fontFamilyName, fontFileArraybuffer, {
                style: 'normal',
                weight: 'normal'
            });
            currentFont.loaded.then((loadedFace) => {
                document.fonts.add(loadedFace);
                displayBoxEle.style.fontFamily = fontFamilyName;
                let newStyle = document.createElement('style');
                newStyle.id = styleTagIdOpentypejs;
                newStyle.appendChild(cr.createContextualFragment(styleFragment));
                document.head.appendChild(newStyle);
            }).catch(function (error) { });

            document.fonts.ready.then(() => {
                //document.body.appendChild(cr.createContextualFragment(`<i></i>`));
            });
        }
    </script>
</body>

</html>